define(["exports","./when-23b1aa97"],function(t,i){"use strict";function a(t){var e;this.name="DeveloperError",this.message=t;try{throw new Error}catch(t){e=t.stack}this.stack=e}i.defined(Object.create)&&((a.prototype=Object.create(Error.prototype)).constructor=a),a.prototype.toString=function(){var t=this.name+": "+this.message;return i.defined(this.stack)&&(t+="\n"+this.stack.toString()),t},a.throwInstantiationError=function(){throw new a("This function defines an interface and should not be called directly.")};var o={};function n(t,e,n){return"Expected "+n+" to be typeof "+e+", actual typeof was "+t}function e(t){null==t&&(t=(new Date).getTime()),this.N=624,this.M=397,this.MATRIX_A=2567483615,this.UPPER_MASK=2147483648,this.LOWER_MASK=2147483647,this.mt=new Array(this.N),this.mti=this.N+1,this.init_genrand(t)}o.typeOf={},o.defined=function(t,e){if(!i.defined(e))throw new a(t+" is required, actual value was undefined")},o.typeOf.func=function(t,e){if("function"!=typeof e)throw new a(n(typeof e,"function",t))},o.typeOf.string=function(t,e){if("string"!=typeof e)throw new a(n(typeof e,"string",t))},o.typeOf.number=function(t,e){if("number"!=typeof e)throw new a(n(typeof e,"number",t))},o.typeOf.number.lessThan=function(t,e,n){if(o.typeOf.number(t,e),n<=e)throw new a("Expected "+t+" to be less than "+n+", actual value was "+e)},o.typeOf.number.lessThanOrEquals=function(t,e,n){if(o.typeOf.number(t,e),n<e)throw new a("Expected "+t+" to be less than or equal to "+n+", actual value was "+e)},o.typeOf.number.greaterThan=function(t,e,n){if(o.typeOf.number(t,e),e<=n)throw new a("Expected "+t+" to be greater than "+n+", actual value was "+e)},o.typeOf.number.greaterThanOrEquals=function(t,e,n){if(o.typeOf.number(t,e),e<n)throw new a("Expected "+t+" to be greater than or equal to"+n+", actual value was "+e)},o.typeOf.object=function(t,e){if("object"!=typeof e)throw new a(n(typeof e,"object",t))},o.typeOf.bool=function(t,e){if("boolean"!=typeof e)throw new a(n(typeof e,"boolean",t))},o.typeOf.number.equals=function(t,e,n,r){if(o.typeOf.number(t,n),o.typeOf.number(e,r),n!==r)throw new a(t+" must be equal to "+e+", the actual values are "+n+" and "+r)},e.prototype.init_genrand=function(t){for(this.mt[0]=t>>>0,this.mti=1;this.mti<this.N;this.mti++){t=this.mt[this.mti-1]^this.mt[this.mti-1]>>>30;this.mt[this.mti]=(1812433253*((4294901760&t)>>>16)<<16)+1812433253*(65535&t)+this.mti,this.mt[this.mti]>>>=0}},e.prototype.genrand_int32=function(){var t,e,n=new Array(0,this.MATRIX_A);if(this.mti>=this.N){for(this.mti==this.N+1&&this.init_genrand(5489),e=0;e<this.N-this.M;e++)t=this.mt[e]&this.UPPER_MASK|this.mt[e+1]&this.LOWER_MASK,this.mt[e]=this.mt[e+this.M]^t>>>1^n[1&t];for(;e<this.N-1;e++)t=this.mt[e]&this.UPPER_MASK|this.mt[e+1]&this.LOWER_MASK,this.mt[e]=this.mt[e+(this.M-this.N)]^t>>>1^n[1&t];t=this.mt[this.N-1]&this.UPPER_MASK|this.mt[0]&this.LOWER_MASK,this.mt[this.N-1]=this.mt[this.M-1]^t>>>1^n[1&t],this.mti=0}return t=this.mt[this.mti++],t^=t>>>11,t^=t<<7&2636928640,t^=t<<15&4022730752,(t^=t>>>18)>>>0},e.prototype.random=function(){return this.genrand_int32()*(1/4294967296)};var u={EPSILON1:.1,EPSILON2:.01,EPSILON3:.001,EPSILON4:1e-4,EPSILON5:1e-5,EPSILON6:1e-6,EPSILON7:1e-7,EPSILON8:1e-8,EPSILON9:1e-9,EPSILON10:1e-10,EPSILON11:1e-11,EPSILON12:1e-12,EPSILON13:1e-13,EPSILON14:1e-14,EPSILON15:1e-15,EPSILON16:1e-16,EPSILON17:1e-17,EPSILON18:1e-18,EPSILON19:1e-19,EPSILON20:1e-20,EPSILON21:1e-21,GRAVITATIONALPARAMETER:3986004418e5,SOLAR_RADIUS:6955e5,LUNAR_RADIUS:1737400,SIXTY_FOUR_KILOBYTES:65536,FOUR_GIGABYTES:4294967296};u.sign=i.defaultValue(Math.sign,function(t){return 0===(t=+t)||t!=t?t:0<t?1:-1}),u.signNotZero=function(t){return t<0?-1:1},u.toSNorm=function(t,e){return e=i.defaultValue(e,255),Math.round((.5*u.clamp(t,-1,1)+.5)*e)},u.fromSNorm=function(t,e){return e=i.defaultValue(e,255),u.clamp(t,0,e)/e*2-1},u.normalize=function(t,e,n){return 0===(n=Math.max(n-e,0))?0:u.clamp((t-e)/n,0,1)},u.sinh=i.defaultValue(Math.sinh,function(t){return(Math.exp(t)-Math.exp(-t))/2}),u.cosh=i.defaultValue(Math.cosh,function(t){return(Math.exp(t)+Math.exp(-t))/2}),u.lerp=function(t,e,n){return(1-n)*t+n*e},u.PI=Math.PI,u.ONE_OVER_PI=1/Math.PI,u.PI_OVER_TWO=Math.PI/2,u.PI_OVER_THREE=Math.PI/3,u.PI_OVER_FOUR=Math.PI/4,u.PI_OVER_SIX=Math.PI/6,u.THREE_PI_OVER_TWO=3*Math.PI/2,u.TWO_PI=2*Math.PI,u.ONE_OVER_TWO_PI=1/(2*Math.PI),u.RADIANS_PER_DEGREE=Math.PI/180,u.DEGREES_PER_RADIAN=180/Math.PI,u.RADIANS_PER_ARCSECOND=u.RADIANS_PER_DEGREE/3600,u.toRadians=function(t){return t*u.RADIANS_PER_DEGREE},u.toDegrees=function(t){return t*u.DEGREES_PER_RADIAN},u.convertLongitudeRange=function(t){var e=u.TWO_PI,t=t-Math.floor(t/e)*e;return t<-Math.PI?t+e:t>=Math.PI?t-e:t},u.clampToLatitudeRange=function(t){return u.clamp(t,-1*u.PI_OVER_TWO,u.PI_OVER_TWO)},u.negativePiToPi=function(t){return t>=-u.PI&&t<=u.PI?t:u.zeroToTwoPi(t+u.PI)-u.PI},u.zeroToTwoPi=function(t){if(0<=t&&t<=u.TWO_PI)return t;var e=u.mod(t,u.TWO_PI);return Math.abs(e)<u.EPSILON14&&Math.abs(t)>u.EPSILON14?u.TWO_PI:e},u.mod=function(t,e){return u.sign(t)===u.sign(e)&&Math.abs(t)<Math.abs(e)?t:(t%e+e)%e},u.equalsEpsilon=function(t,e,n,r){n=i.defaultValue(n,0),r=i.defaultValue(r,n);var a=Math.abs(t-e);return a<=r||a<=n*Math.max(Math.abs(t),Math.abs(e))},u.lessThan=function(t,e,n){return t-e<-n},u.lessThanOrEquals=function(t,e,n){return t-e<n},u.greaterThan=function(t,e,n){return n<t-e},u.greaterThanOrEquals=function(t,e,n){return-n<t-e};var h=[1];u.factorial=function(t){var e=h.length;if(e<=t)for(var n=h[e-1],r=e;r<=t;r++){var a=n*r;h.push(a),n=a}return h[t]},u.incrementWrap=function(t,e,n){return n=i.defaultValue(n,0),t=e<++t?n:t},u.isPowerOfTwo=function(t){return 0!==t&&0==(t&t-1)},u.nextPowerOfTwo=function(t){return--t,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,++t},u.previousPowerOfTwo=function(t){return t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t=((t|=t>>32)>>>0)-(t>>>1)},u.clamp=function(t,e,n){return t<e?e:n<t?n:t};var r=new e;u.setRandomNumberSeed=function(t){r=new e(t)},u.nextRandomNumber=function(){return r.random()},u.randomBetween=function(t,e){return u.nextRandomNumber()*(e-t)+t},u.acosClamped=function(t){return Math.acos(u.clamp(t,-1,1))},u.asinClamped=function(t){return Math.asin(u.clamp(t,-1,1))},u.chordLength=function(t,e){return 2*e*Math.sin(.5*t)},u.logBase=function(t,e){return Math.log(t)/Math.log(e)},u.cbrt=i.defaultValue(Math.cbrt,function(t){var e=Math.pow(Math.abs(t),1/3);return t<0?-e:e}),u.log2=i.defaultValue(Math.log2,function(t){return Math.log(t)*Math.LOG2E}),u.fog=function(t,e){e*=t;return 1-Math.exp(-e*e)},u.fastApproximateAtan=function(t){return t*(-.1784*Math.abs(t)-.0663*t*t+1.0301)},u.fastApproximateAtan2=function(t,e){var n=Math.abs(t),r=Math.abs(e),a=Math.max(n,r),a=Math.min(n,r)/a,n=u.fastApproximateAtan(a);return n=Math.abs(e)>Math.abs(t)?u.PI_OVER_TWO-n:n,n=t<0?u.PI-n:n,n=e<0?-n:n},t.Check=o,t.CrystalMath=u,t.DeveloperError=a});
