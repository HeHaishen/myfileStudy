define(["./arrayRemoveDuplicates-72d928ba","./Transforms-21fa56f0","./Cartesian2-fe435665","./Math-e9e583a9","./ComponentDatatype-db261df2","./CoplanarPolygonGeometryLibrary-bc8c4c7e","./when-23b1aa97","./GeometryAttribute-e2cab2f1","./GeometryAttributes-bf6191be","./GeometryInstance-f73501bb","./GeometryPipeline-ad571d9b","./IndexDatatype-5483de1e","./PolygonGeometryLibrary-275fb1ab","./RuntimeError-acd9a015","./WebGLConstants-c32c4572","./OrientedBoundingBox-fcf7a49b","./EllipsoidTangentPlane-3934f12e","./IntersectionTests-5927aeeb","./Plane-95acb6df","./AttributeCompression-dc95bf1b","./EncodedCartesian3-c1064016","./ArcType-94cbcc5d","./EllipsoidRhumbLine-5fcd2f7f","./PolygonPipeline-7f6972cc"],function(i,y,c,e,l,p,o,s,u,d,f,m,b,t,r,n,a,g,h,P,G,v,L,T){"use strict";function C(e){e=(e=o.defaultValue(e,o.defaultValue.EMPTY_OBJECT)).polygonHierarchy;this._polygonHierarchy=e,this._workerName="createCoplanarPolygonOutlineGeometry",this.packedLength=b.PolygonGeometryLibrary.computeHierarchyPackedLength(e)+1}C.fromPositions=function(e){return new C({polygonHierarchy:{positions:(e=o.defaultValue(e,o.defaultValue.EMPTY_OBJECT)).positions}})},C.pack=function(e,t,r){return r=o.defaultValue(r,0),t[r=b.PolygonGeometryLibrary.packPolygonHierarchy(e._polygonHierarchy,t,r)]=e.packedLength,t};var E={polygonHierarchy:{}};return C.unpack=function(e,t,r){t=o.defaultValue(t,0);var n=b.PolygonGeometryLibrary.unpackPolygonHierarchy(e,t);t=n.startingIndex,delete n.startingIndex;t=e[t];return(r=!o.defined(r)?new C(E):r)._polygonHierarchy=n,r.packedLength=t,r},C.createGeometry=function(e){var t=e._polygonHierarchy,e=t.positions,e=i.arrayRemoveDuplicates(e,c.Cartesian3.equalsEpsilon,!0);if(!(e.length<3)&&p.CoplanarPolygonGeometryLibrary.validOutline(e)){var r=b.PolygonGeometryLibrary.polygonOutlinesFromHierarchy(t,!1);if(0!==r.length){for(var n=[],o=0;o<r.length;o++){var a=new d.GeometryInstance({geometry:function(e){for(var t=e.length,r=new Float64Array(3*t),n=m.IndexDatatype.createTypedArray(t,2*t),o=0,a=0,i=0;i<t;i++){var y=e[i];r[o++]=y.x,r[o++]=y.y,r[o++]=y.z,n[a++]=i,n[a++]=(i+1)%t}var c=new u.GeometryAttributes({position:new s.GeometryAttribute({componentDatatype:l.ComponentDatatype.DOUBLE,componentsPerAttribute:3,values:r})});return new s.Geometry({attributes:c,indices:n,primitiveType:s.PrimitiveType.LINES})}(r[o])});n.push(a)}e=f.GeometryPipeline.combineInstances(n)[0],t=y.BoundingSphere.fromPoints(t.positions);return new s.Geometry({attributes:e.attributes,indices:e.indices,primitiveType:e.primitiveType,boundingSphere:t})}}},function(e,t){return(e=o.defined(t)?C.unpack(e,t):e)._ellipsoid=c.Ellipsoid.clone(e._ellipsoid),C.createGeometry(e)}});
