define(["exports","./Cartesian2-fe435665","./Math-e9e583a9","./when-23b1aa97"],function(t,e,r,i){"use strict";var s={octEncodeInRange:function(t,o,n){var a;return n.x=t.x/(Math.abs(t.x)+Math.abs(t.y)+Math.abs(t.z)),n.y=t.y/(Math.abs(t.x)+Math.abs(t.y)+Math.abs(t.z)),t.z<0&&(a=n.x,t=n.y,n.x=(1-Math.abs(t))*r.CrystalMath.signNotZero(a),n.y=(1-Math.abs(a))*r.CrystalMath.signNotZero(t)),n.x=r.CrystalMath.toSNorm(n.x,o),n.y=r.CrystalMath.toSNorm(n.y,o),n},octEncode:function(t,o){return s.octEncodeInRange(t,255,o)}},n=new e.Cartesian2,o=new Uint8Array(1);function a(t){return o[0]=t,o[0]}s.octEncodeToCartesian4=function(t,o){return s.octEncodeInRange(t,65535,n),o.x=a(n.x*(1/256)),o.y=a(n.x),o.z=a(n.y*(1/256)),o.w=a(n.y),o},s.octDecodeInRange=function(t,o,n,a){return a.x=r.CrystalMath.fromSNorm(t,n),a.y=r.CrystalMath.fromSNorm(o,n),a.z=1-(Math.abs(a.x)+Math.abs(a.y)),a.z<0&&(n=a.x,a.x=(1-Math.abs(a.y))*r.CrystalMath.signNotZero(n),a.y=(1-Math.abs(n))*r.CrystalMath.signNotZero(a.y)),e.Cartesian3.normalize(a,a)},s.octDecode=function(t,o,n){return s.octDecodeInRange(t,o,255,n)},s.octDecodeFromCartesian4=function(t,o){var n=256*t.x+t.y,t=256*t.z+t.w;return s.octDecodeInRange(n,t,65535,o)},s.octPackFloat=function(t){return 256*t.x+t.y};var c=new e.Cartesian2;function u(t){return t>>1^-(1&t)}s.octEncodeFloat=function(t){return s.octEncode(t,c),s.octPackFloat(c)},s.octDecodeFloat=function(t,o){var n=t/256,t=Math.floor(n),n=256*(n-t);return s.octDecode(t,n,o)},s.octPack=function(t,o,n,a){t=s.octEncodeFloat(t),o=s.octEncodeFloat(o),n=s.octEncode(n,c);return a.x=65536*n.x+t,a.y=65536*n.y+o,a},s.octUnpack=function(t,o,n,a){var e=t.x/65536,r=Math.floor(e),c=65536*(e-r),e=t.y/65536,t=Math.floor(e),e=65536*(e-t);s.octDecodeFloat(c,o),s.octDecodeFloat(e,n),s.octDecode(r,t,a)},s.compressTextureCoordinates=function(t){return 4096*(4095*t.x|0)+(4095*t.y|0)},s.decompressTextureCoordinates=function(t,o){var n=t/4096,n=Math.floor(n);return o.x=n/4095,o.y=(t-4096*n)/4095,o},s.zigZagDeltaDecode=function(t,o,n){for(var a=t.length,e=0,r=0,c=0,s=0;s<a;++s)e+=u(t[s]),r+=u(o[s]),t[s]=e,o[s]=r,i.defined(n)&&(c+=u(n[s]),n[s]=c)},t.AttributeCompression=s});
